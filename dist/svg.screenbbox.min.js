/*! svg.screenbbox.js - v0.1.0 - 2015-11-07
* Copyright (c) 2015 Ulrich-Matthias SchÃ¤fer; Licensed MIT */
(function(){SVG.extend(SVG.Polyline,SVG.Polygon,SVG.Path,{screenBBox:function(){var a=this.array().valueOf(),b=a.length,c=this.doc().node.createSVGPoint(),d=this.screenCTM()["native"](),e=[,0,0],f=function(a){for(var b,e=1,f=a.length;f>e;e+=2)c.x=a[e],c.y=a[e+1],b=c.matrixTransform(d),a[e]=b.x,a[e+1]=b.y;return[b.x,b.y]};if(this instanceof SVG.Polygon||this instanceof SVG.Polyline){for(;b--;)a[b].unshift("L");a[0][0]="M"}for(this instanceof SVG.Polygon&&a.push(["z"]),b=0,len=a.length;b<len;++b){var g=a[b][0];if("M"==g||"L"==g||"C"==g||"S"==g||"Q"==g||"T"==g)e=[,a[b][1],a[b][2]],f(a[b]);else if("H"==g||"V"==g){e["H"==g?1:2]=a[b][1];var h=f(e.slice());a[b][0]="L",a[b][1]=h[0],a[b][2]=h[1]}else if("A"==g){e=[,a[b][6],a[b][7]];var h=f(e.slice());a[b][6]=h[0],a[b][7]=h[1]}}return new SVG.PathArray(a).bbox()}})}).call(this);